(function(k,d,e,l){(function(f,b){"function"!==typeof Object.create&&(Object.create=function(a){if(null===a||"object"!==typeof a)throw new TypeError("Invalid argument");var c=function(){};c.prototype=a;return new c});var h={init:function(a,c){this.$el=b(a);this.$textHolder=this.$el.find(".text-holder").eq(0);this.options=b.extend({},f,c);this.$lis=this.$el.find("section \x3e ul \x3e li");this.$selectedItem=this.$lis.eq(0);a=!1;this.currentIndex=0;this.$dropdownLiElements=Array.from(this.$el.find("ul").eq(0).children());
this.getSelectedItem(this.$lis).length&&(this.$selectedItem=b(this.getSelectedItem(this.$lis)[0]),a=!0);this.$selectedItem.addClass(this.options.activeClass);this.options.overridePlaceholder&&this.$textHolder.html(this.$selectedItem.text());this.$el.attr("tabIndex",0);this.$textHolder.on("click",this.handleToggle.bind(this));this.$el.find("header \x3e span").on("click",this.handleToggle.bind(this));this.$el.find("section \x3e ul").on("click",this.eventHandler.bind(this));this.$el.find("section \x3e ul").on("keypress",
this.eventHandler.bind(this));this.$el.on("focus",this.handleFocus.bind(this));this.$el.on("blur",this.handleBlur.bind(this));this.$el.on("keydown",this.handleKeyboardInteraction.bind(this));b(d).on("click",function(){!0===this.options.state&&this.close()}.bind(this));b(d).on("click",function(g){!b(g.target).is(this.$el)&&b(this.$el).hasClass("opened")&&b(this.$el).removeClass("opened active-highlight")}.bind(this));null!==this.options.onInit&&"function"===typeof this.options.onInit&&this.options.onInit.call(this,
{$el:this.$el,item:this.$selectedItem[0],text:this.$selectedItem.text(),value:this.$selectedItem.data("value"),isItemSelected:a});return this},getSelectedItem:function(a){return Array.prototype.slice.call(a).filter(function(c){return c.classList.contains("selected")?c:!1})},handleToggle:function(a){!1===this.options.state&&!0===this.options.openOnlyOne&&b(d).trigger("click");!1===this.options.state?this.open():this.close();a.stopPropagation()},open:function(){this.options.state=!0;this.$el.addClass("opened");
null!==this.options.onOpen&&"function"===typeof this.options.onOpen&&this.options.onOpen.call(this,{$el:this.$el,item:this.$selectedItem[0],text:this.$selectedItem.text(),value:this.$selectedItem.data("value")})},close:function(){this.options.state=!1;this.$el.removeClass("opened");null!==this.options.onClose&&"function"===typeof this.options.onClose&&this.options.onClose.call(this,{$el:this.$el,item:this.$selectedItem[0],text:this.$selectedItem.text(),value:this.$selectedItem.data("value")})},handleItemChange:function(a){this.$selectedItem.removeClass(this.options.activeClass);
this.$selectedItem=b(a.target||a.srcElement);this.$selectedItem.addClass(this.options.activeClass);this.$textHolder.html(this.$selectedItem.text());this.close();null!==this.options.onChange&&"function"===typeof this.options.onChange&&(a="undefined"===typeof this.$selectedItem.data("value")||""===this.$selectedItem.data("value")?!1:!0,this.options.onChange.call(this,{$el:this.$el,item:this.$selectedItem[0],text:this.$selectedItem.text(),value:this.$selectedItem.data("value"),isItemSelected:a}))},eventHandler:function(a){b(a.target||
a.srcElement).is("li")&&this.handleItemChange(a);a.stopPropagation()},handleFocus:function(){this.$dropdownLiElements.forEach(function(a){a.setAttribute("tabIndex","0")});null!==this.options.onFocus&&"function"===typeof this.options.onFocus&&this.options.onFocus.call(this,{$el:this.$el})},handleBlur:function(){null!==this.options.onBlur&&"function"===typeof this.options.onBlur&&this.options.onBlur.call(this,{$el:this.$el})},focusCurrentOption:function(){this.$dropdownLiElements[this.currentIndex].focus()},
handleKeyboardInteraction:function(a){a.stopPropagation();switch(a.key){case "Enter":this.$el.toggleClass("opened");break;case "ArrowUp":a.preventDefault();0<this.currentIndex?this.currentIndex--:this.currentIndex=this.$dropdownLiElements.length-1;this.focusCurrentOption();break;case "ArrowDown":a.preventDefault();this.currentIndex<this.$dropdownLiElements.length-1?this.currentIndex++:this.currentIndex=0;this.focusCurrentOption();break;case "Escape":this.$el.removeClass("opened active-highlight")}}};
b.fn.extend({BLKDropdown:function(a){return b(this).each(function(){b.data(this,"blk-dropdown")||b.data(this,"blk-dropdown",Object.create(h).init(this,a))})}})})({onChange:null,onInit:null,onOpen:null,onClose:null,onFocus:null,onBlur:null,openTowards:"bottom",activeClass:"selected",overridePlaceholder:!0,state:!1,openOnlyOne:!1},jQuery||e)})(window,document,jQuery);