(function(g,k,a,u){var n=function(f,e){f&&(f=f.split(" "),a(f).each(function(){var h=this;a(e).contents().filter(function(){return 3===this.nodeType}).each(function(){var c=a(this).text();c=c.replace(new RegExp(h,"gi"),function(d){return'\x3cspan class\x3d"highlight"\x3e'+d+"\x3c/span\x3e"});a(this).replaceWith(c)})}))},r=function(f){if("true"===a(".vi20 .fund-search-bar .search-text-freeform-variant").attr("data-enableautocomplete")){a.widget("custom.unifiedAutocomplete",a.ui.autocomplete,{_renderMenu:function(c,
d){var b=this,p=a('\x3cli class\x3d"ui-autocomplete-category"\x3e'+a("#mainNavSearchResultsFreeformVariant").attr("data-fundresults")+"\x3c/li\x3e");c.append(p);var m=a("#searchTextOpt").val();a("#mainNavSearchResultsFreeformVariant ul li.ui-autocomplete-category").after('\x3cli class\x3d"ui-autocomplete-category no-result-found"\x3e'+a("#mainNavSearchResultsFreeformVariant").attr("data-noresult")+' "\x3cspan class\x3d"highlight-term"\x3e'+m+'\x3c/span\x3e"\x3c/li\x3e');a("#mainNavSearchResultsFreeformVariant").addClass("height-on-noResult");
a(".searchBar .view-all").css("display","block");a(".searchBar .view-all-funds").css("display","block");a(".searchBar .view-all-results").css("display","none");var q=a(".view-all a").attr("href");a.each(d,function(v,l){"undefined"!==typeof l.category&&"productAutocomplete"==l.category&&(a(".no-result-found").remove(),b._renderItemData(c,l),a("#mainNavSearchResultsFreeformVariant").removeClass("height-on-noResult"),a(".searchBar .view-all").css("display","block"),a(".searchBar .view-all-funds").css("display",
"none"),a(".searchBar .view-all-results").css("display","block"),a(".view-all a").click(function(){a(".view-all a").attr("href",q+"#!search\x3d"+m)}))});a(c).addClass("unified-autocomplete")}});var e="";"/"!==g.location.pathname&&(e=g.location.pathname);var h=g.location.protocol+"//"+g.location.host+e+"/autoComplete.search?type\x3dautocomplete";a(".search-text-freeform-variant").unifiedAutocomplete({appendTo:"#mainNavSearchResultsFreeformVariant",delay:500,minLength:f,open:function(c,d){"true"==a(".siteSearch .unifiedAutocomplete").val()&&
(a(".ui-autocomplete-category").removeClass("ui-menu-item"),a(".ui-autocomplete").addClass("autocomplete-open",200));3>a("#searchTextOpt").val().length?(a(".searchBar .btn-input div.fa.fa-search").css("display","block"),a(".searchBar .btn-input div.fa.fa-times").css("display","none")):(a(".searchBar .btn-input div.fa.fa-search").css("display","none"),a(".searchBar .btn-input div.fa.fa-times").css("display","block"));a("#mainNavSearchResultsFreeformVariant").css({height:a(".searchBar #mainNavSearchResultsFreeformVariant ul").height()+
56});n(a("#searchTextOpt").val(),a(".searchBar .unified-autocomplete .ui-menu-item .ui-menu-item-wrapper").attr("tabIndex","0"))},select:function(c,d){g.location=d.item.id},source:function(c,d){a.ajax({url:h,dataType:"json",data:{term:c.term},beforeSend:function(){}}).done(function(b){d(b);b.length||(a("#mainNavSearchResultsFreeformVariant").removeClass("height-on-noResult"),a("#mainNavSearchResultsFreeformVariant ul li").remove(),a(".no-result-found").remove(),a("#mainNavSearchResultsFreeformVariant").css({height:a(".searchBar #mainNavSearchResultsFreeformVariant ul").height()+
158}),a("#mainNavSearchResultsFreeformVariant ul").css("display","block"),a("#mainNavSearchResultsFreeformVariant ul").append('\x3cli class\x3d"ui-autocomplete-category"\x3e'+a("#mainNavSearchResultsFreeformVariant").attr("data-fundresults")+'\x3c/li\x3e\x3cli class\x3d"fund-result-not-found"\x3e'+a("#mainNavSearchResultsFreeformVariant").attr("data-noresult")+' "\x3cspan class\x3d"highlight-term"\x3e'+c.term+'\x3c/span\x3e"\x3c/li\x3e'),a(".searchBar .view-all").css("display","block"),a(".searchBar .view-all-funds").css("display",
"block"),a(".searchBar .view-all-results").css("display","none"),a(".searchBar .btn-input span.fa").removeClass("fa-search"),a(".searchBar .btn-input span.fa").addClass("fa-times"));b=a("#value-announce-message").val();parseInt(a("#ui-id-2").children().length-1)?a(".values-announce").text("NO "+b+" FOUND"):a(".values-announce").text(resultlength+" "+b+" FOUND")}).always(function(){})}})}},t=function(){a(k).on("click",".vi20 .fund-search-bar .searchBar .fa.fa-times",function(){a("#searchTextOpt").val("");
a(".searchBar .btn-input div.fa.fa-search").css("display","block");a(".searchBar .btn-input div.fa.fa-times").css("display","none")});var f=a(g),e=a(".vi20 .fund-search-bar .searchBar #searchTextOpt"),h=a(".vi20 .fund-search-bar #mainNavSearchResultsFreeformVariant"),c=a(".vi20 .fund-search-bar .inputTextLength").val();f.on("click.Bst",function(b){0!=e.has(b.target).length||e.is(b.target)||0!=h.has(b.target).length&&0==a(".searchBar .unified-autocomplete .ui-menu-item").has(b.target).length?a(".searchBar .search-form-container").addClass("active"):
(a(".searchBar .view-all").css("display","none"),a(".searchBar .search-form-container").removeClass("active"),a("#mainNavSearchResultsFreeformVariant").css({height:"auto"}))});e.on("change keyup paste",function(b){e.val().length<c?d():(a(".mainNavSearchResultBlock").width(a(".search-form-container").width()),a(".values-announce").text(" "))});a(g).on("focusout keydown",function(b){"Tab"===b.key?a(this).unbind("focusout"):setTimeout(function(){d()},300)});a(k).keyup(function(b){"Tab"===b.key&&a(".vi20 .fund-search-bar #mainNavSearchResultsFreeformVariant #ui-id-2").css({display:"block"})});
a(k).mousedown(function(b){b.target==a("html").get(0)&&0!=a(".vi20 .fund-search-bar #mainNavSearchResultsFreeformVariant").height()&&d()});a(k).keyup(function(b){"Escape"===b.key&&d()});var d=function(){a(".vi20 .fund-search-bar #mainNavSearchResultsFreeformVariant").removeClass("height-on-noResult");a(".vi20 .fund-search-bar #mainNavSearchResultsFreeformVariant").css({height:"auto"});a(".vi20 .fund-search-bar .searchBar .view-all").css("display","none");a(".vi20 .fund-search-bar .no-result-found").remove()};
r(c)};a(function(){t()})})(window,document,jQuery);