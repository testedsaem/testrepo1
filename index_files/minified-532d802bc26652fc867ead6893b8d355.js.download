(function(l,m,d,y){var q="",G={selector:null,showDots:!1,dotsPosition:"bottom",showArrows:!0,isCircular:!1,isResponsive:!0,itemClass:".item",arrowsClass:".arrows",dotsClass:".dot",itemContainerClass:null,addArrowMarkup:!1,waitForSelector:null,thumbnailLabels:{now:{class:"vjs-playlist-now-playing-text",label:"NOW"},upnext:{class:"vjs-up-next-text",label:"UP NEXT"}}},z=function(a,c){this.shiftAmount=0;this.$arrows=[];this.$dots=[];this.lastItemIndex=this.activeItemIndex=-1;this.$host=a;this.options=
c;if(c.waitForSelector)var b=setInterval(function(){this.getWaitForSelectorElement()&&(clearInterval(b),b=null,this.grabElements().bindEvent().setNavigationState().bindReset().callHook("onAfterInit"))}.bind(this),30);else this.grabElements().bindEvent().setNavigationState().bindReset().callHook("onAfterInit")};z.prototype={bindEvent:function(){this.$arrows.forEach(function(a){a.addEventListener("click",this.handleNavigation.bind(this))}.bind(this));this.$dots.forEach(function(a){a.addEventListener("click",
this.handleNavigation.bind(this))}.bind(this));return this},setNavigationState:function(){this.$arrows.forEach(function(a){a.classList.remove("__disabled");this.activeItemIndex===this.lastItemIndex&&a.classList.contains("__left")?a.classList.add("__disabled"):!this.$items[this.activeItemIndex+1]&&a.classList.contains("__right")&&a.classList.add("__disabled")}.bind(this));return this},callHook:function(a){if(a in this.options&&"function"==typeof this.options[a])this.options[a]($host,_this)},grabElements:function(){this.$itemContainer=
this.options.itemContainerClass?this.$host.querySelector("."+this.options.itemContainerClass):this.$host;this.$items=this.$itemContainer.querySelectorAll("."+this.options.itemClass);!0===this.options.addArrowMarkup&&this.addArrowMarkup();this.calcActiveIndex().setVideoThumbnailLabels().setFullWithLeftColumnHeight();!0===this.options.showArrows&&(this.$arrows=this.$host.querySelectorAll(".arrows"));!0===this.options.showDots&&(this.$dots=this.$host.querySelectorAll(".dot"));return this},calcActiveIndex:function(){this.activeItemIndex=
-1;this.$items.forEach(function(a){a.offsetLeft<this.$host.offsetWidth&&++this.activeItemIndex}.bind(this));this.lastItemIndex=this.activeItemIndex;return this},setVideoThumbnailLabels:function(){var a=this.options.thumbnailLabels,c=null,b=null;this.$items.forEach(function(e){c=e.querySelector("."+a.upnext.class);b=e.querySelector("."+a.now.class);c&&(c.innerText=a.upnext.label);b&&(b.innerText=a.now.label)}.bind(this));return this},bindReset:function(){var a=null;d(l).on("resize",function(c){clearTimeout(a);
a=null;a=setTimeout(function(){this.shiftAmount=0;this.transform(0).calcActiveIndex().setNavigationState().setFullWithLeftColumnHeight().callHook("onReset")}.bind(this),this.resetTimeoput)}.bind(this));return this},setFullWithLeftColumnHeight:function(){var a=m.querySelectorAll(".aladdin.playlist.full-width .video-js"),c=m.querySelectorAll(".aladdin.playlist.full-width .full-width-playlist-container");c&&a&&1024<=l.innerWidth&&a.forEach(function(b,e){c[e].style.height=b.offsetHeight+"px"});return this},
getTotalWidth:function(a){var c=a.currentStyle||l.getComputedStyle(a);a=a.offsetWidth;c=parseFloat(c.marginLeft)+parseFloat(c.marginRight);return a+c},handleNavigation:function(a){a=a.currentTarget.classList;a.contains(this.options.arrowsClass.substr(1))&&!a.contains("__disabled")&&(a.contains("__left")&&this.activeItemIndex>this.lastItemIndex?(--this.activeItemIndex,this.shiftAmount-=this.getTotalWidth(this.$items[this.activeItemIndex]),this.setNavigationState().transform(this.shiftAmount)):this.$items[this.activeItemIndex+
1]&&(this.shiftAmount+=this.getTotalWidth(this.$items[this.activeItemIndex+1]),this.activeItemIndex+=1,this.setNavigationState().transform(this.shiftAmount)))},addArrowMarkup:function(){var a=m.createElement("nav");a.className="blk-carousal-navigation";a.innerHTML='\x3caside class\x3d"arrows-container"\x3e\x3cdiv class\x3d"arrows __left"\x3e\x3cem class\x3d"fas fa-angle-left"\x3e\x3c/em\x3e\x3c/div\x3e\x3cdiv class\x3d"arrows __right"\x3e\x3cem class\x3d"fas fa-angle-right"\x3e\x3c/em\x3e\x3c/div\x3e\x3c/aside\x3e';
this.$itemContainer.parentNode.appendChild(a)},getWaitForSelectorElement:function(){return this.$host.querySelector(this.options.waitForSelector)},transform:function(a){this.$itemContainer.style.transform="translateX(-"+a+"px)";return this}};var H=function(a){var c=m.querySelectorAll(a.selector);if(!c.length)throw Error("Selector property must be a valid and selector must exist.");a=Object.assign({},G,a);c.forEach(function(b){new z(b,a)})},t={metaUrl:function(){if(!q)return"https://d2adqanfijfsj5.cloudfront.net/meta/";
switch(q.toLowerCase()){case "local":case "dev":case "tst":case "tst2":case "preprod":return"https://d3eevne2u0akly.cloudfront.net/meta/";case "prod":return"https://d2adqanfijfsj5.cloudfront.net/meta/";default:return"https://d2adqanfijfsj5.cloudfront.net/meta/"}},metaFunction:"videoMeta"},u={fluid:!0,textTrackSettings:!1,controlBar:{volumePanel:{inline:!1},children:[{name:"playToggle"},{name:"currentTimeDisplay"},{name:"progressControl"},{name:"volumePanel"},{name:"subsCapsButton"},{name:"descriptionsButton"},
{name:"fullscreenToggle"}]}},A=function(a,c){for(var b={},e=0;e<a.streams.length;e++){var f=a.streams[e][1];switch(a.streams[e][0]){case "480p":b["480p"]=f;break;case "720p":b["720p"]=f;break;case "1080p":b["1080p"]=f}}"undefined"===typeof c&&(c="720p"in b?"720p":"480p");return c in b?a.streamurl+b[c]:null},B=function(a){var c=[];if(a.hasOwnProperty("captions")&&a.captions.length)for(var b=0;b<a.captions.length;b++)c.push({src:a.captionsUrl+a.captions[b][2],kind:"captions",srclang:a.captions[b][1],
label:d(".vi20 input[type\x3dhidden][name\x3d"+a.captions[b][1]+"-label]").first().val()||a.captions[b][0]});return c},C=function(a){var c=[];if(l.speechSynthesis&&a.hasOwnProperty("audioDescriptions")&&a.audioDescriptions.length)for(var b=0;b<a.audioDescriptions.length;b++)c.push({src:a.audioDescriptionsUrl+a.audioDescriptions[b][2],kind:"descriptions",srclang:a.audioDescriptions[b][1],label:d(".vi20 input[type\x3dhidden][name\x3d"+a.audioDescriptions[b][1]+"-label]").first().val()||a.audioDescriptions[b][0]});
return c},v=function(a,c){a.ready(function(){this.hotkeys({alwaysCaptureHotkeys:!0,enableHoverScroll:!0,enableVolumeScroll:!1})});a.seekButtons({back:10});c=d("#"+c).parents(".video-container");if(c.find(".social-media-share").length){var b=a.controlBar.addChild("button").el();b.setAttribute("aria-label","share");b.setAttribute("aria-haspopup","true");b.setAttribute("aria-expanded","false");b.setAttribute("title","Share");b.classList.add("social-share-button");b.innerHTML="\x3cspan class\x3d'fas fa-share-alt'\x3e\x3c/span\x3e";
c.find(".social-media-share .social-media-share-button ul").insertAfter(b);c.find(".social-media-share").remove();d(b).click(function(e){e.stopPropagation();b.classList.toggle("active");d(b).hasClass("active")?b.setAttribute("aria-expanded","true"):b.setAttribute("aria-expanded","false")});d(b).on("touchend",function(e){d(this).click();e.preventDefault()});I(d(b))}},D=[],w={},J=function(a,c,b){D.push({videoParams:a,videoElId:c,playlistElId:b});m.getElementById("brand");l[t.metaFunction]=function(e){var f,
h;d(D).each(function(){var k=d(this);h=k[0].videoParams.playlist.find(function(n){return n.videoId==e.id});if(h!=y)return f=k[0],!1});if("false"==f.videoParams.includePlaylist){var g=d.extend({sources:[{type:"video/mp4",src:A(e)}],poster:(h.thumbnail||e.thumburl+e.thumbs[1][1])+"?time\x3d"+(new Date).getTime(),textTracks:B(e).concat(C(e))},u);g=videojs(f.videoElId,g);g.ready(function(){var k=this;this.options_.textTracks.forEach(function(n){return k.addRemoteTextTrack(n,!1)})});v(g,f.videoElId)}else g=
w[f.playlistElId]!=y?w[f.playlistElId]:[],g.push({id:h.videoId,name:h.title,duration:e.duration,sources:[{type:"video/mp4",src:A(e)}],poster:(h.thumbnail||e.thumburl+e.thumbs[1][1])+"?time\x3d"+(new Date).getTime(),thumbnail:[{src:h.thumbnail||e.thumburl+e.thumbs[0][1],alt:h.title}],textTracks:B(e).concat(C(e))}),w[f.playlistElId]=g,g.length==f.videoParams.playlist.length&&(g.sort(function(k,n){for(var r,x,p=0;p<f.videoParams.playlist.length;++p)f.videoParams.playlist[p].videoId==k.id&&(r=p),f.videoParams.playlist[p].videoId==
n.id&&(x=p);return r<x?-1:r>x?1:0}),E(f.videoElId,f.playlistElId,g,f.videoParams))};a.playlist.forEach(function(e){e=e.videoId;d.ajax({type:"GET",url:t.metaUrl()+e+".txt",crossDomain:!0,dataType:"jsonp",jsonp:!1,success:t.metaFunction})})},K=function(a,c,b){if("false"==a.includePlaylist)a=d.extend({sources:[{type:"video/youtube",src:"https://www.youtube.com/watch?v\x3d"+a.playlist[0].videoId}],techOrder:["youtube"],youtube:{customVars:{wmode:"transparent",modestbranding:1}}},u),a=videojs(c,a),v(a,
c);else{var e=[];a.playlist.forEach(function(f){return e.push({name:f.title,sources:[{type:"video/youtube",src:"https://www.youtube.com/watch?v\x3d"+f.videoId}],thumbnail:[{src:f.thumbnail,alt:f.title}]})});E(c,b,e,a)}},E=function(a,c,b,e){$playListEl=d("#"+c);var f=videojs(a,u);v(f,a);f.on("playlistitem",function(){var h=d("#"+c).parents(".para-width-video"),g=h.find(".transcript-title"),k=g.parents(".transcript-container"),n=e.playlist[d(this)[0].playlist.currentIndex_].transcript;k.hide();if(n.length){k.show();
k=e.playlist[d(this)[0].playlist.currentIndex_].videoId;var r=g.parent().hasClass("expand")?"open":"close";h.find(".transcript-para").html(n);g.attr("data-link-event",k+":transcript:cta:"+r)}});f.playlist(b);f.playlist.autoadvance(0);f.playlistUi({el:m.getElementById(c),playOnSelect:!0});"ishares"!==e.brand&&($playListEl.height(d("#"+a).innerHeight()),$playListEl.find(".vjs-playlist-item").each(function(){d(".vjs-playlist-now-playing-text, .vjs-playlist-title-container, .vjs-playlist-duration",d(this)).wrapAll('\x3cdiv class\x3d"vjs-playlist-item-text-container"\x3e\x3c/div\x3e')}))},
L=function(){d(".vi20 .video-player .transcript-title").on("click",function(){$transcript=d(this).parent();var a=d(this).attr("data-link-event");$transcript.toggleClass("expand");$transcript.hasClass("expand")?(d(this).attr("aria-expanded","true"),d(this).attr("data-link-event",a.replace("close","open")),$transcript.find(".transcript-para").show(),$transcript.find(".transcript-para").attr("tabindex","0").focus()):(d(this).attr("aria-expanded","false"),d(this).attr("data-link-event",a.replace("open",
"close")),$transcript.find(".transcript-para").hide())});d(".vi20 .video-player .transcript-title").on("keydown",function(a){$transcript=d(this).parent();9==a.which&&$transcript.hasClass("expand")&&($transcript.removeClass("expand"),d(this).attr("aria-expanded","false"),a=d(this).attr("data-link-event"),d(this).attr("data-link-event",a.replace("open","close")),$transcript.find(".transcript-para").hide())})},M=function(){d(m).on("click",function(){var a=d(".vi20 .video-player .social-share-button,.vi20 .video-banner .social-share-button");
a.hasClass("active")&&a.removeClass("active").attr("aria-expanded","false")});d(m).on("keydown",function(a){27==a.which&&(a=d(".vi20 .video-player .social-share-button,.vi20 .video-banner .social-share-button"),a.hasClass("active")&&a.removeClass("active").attr("aria-expanded","false"))})},N=function(){d(l).on("hashchange",function(){setTimeout(function(){d(".vi20 .video-player.blackrock .vjs-playlist:visible").each(function(){var a=d(this);a.height(a.prev(".video-container").find(".video-js").innerHeight())})},
400)})},I=function(a){a.keydown(function(c){c=c||l.event;var b=d(this);b.hasClass("active");13==c.which&&(c.preventDefault(),b.click(),b.next("ul").children("li").first().children("a, button").focus())});a.next("ul").children("li").each(function(){d(this).keydown(function(c){c=c||l.event;var b=d(this);switch(c.which){case 40:c.preventDefault();b.is(":last-child")||b.next("li").children("a, button").focus();break;case 38:c.preventDefault();b.is(":first-child")||b.prev("li").children("a, button").focus();
break;case 9:(!c.shiftKey&&b.is(":last-child")||c.shiftKey&&b.is(":first-child"))&&b.parents("ul").prev(".social-share-button").removeClass("active").attr("aria-expanded","false")}})})},F=function(){if("undefined"===typeof videojs)var a=setTimeout(function(){F()},30);else"undefined"!==typeof a&&(clearTimeout(a),a=null),d(".vi20 video.video-js").each(function(c){c=d(this);var b=c.parents(".vi20 .video-player, .vi20 .video-banner");if(b.length){var e=b.data("video-params");b=b.find(".vjs-playlist").attr("id");
"blackrock"==e.player?J(e,c[0].id,b):K(e,c[0].id,b)}})};d(function(){0<d(".vi20 .video-player,.vi20 .video-banner").length&&("undefined"!==typeof NTPT_GLBLEXTRA&&(q=BLK.videoPlayer.getEnvironment(NTPT_GLBLEXTRA,"env"),"undefined"===typeof q&&(q="")),F(),L(),M(),d(".aladdin.playlist .vjs-playlist").length&&H({selector:".aladdin.playlist div.vjs-playlist",itemContainerClass:"vjs-playlist-item-list",itemClass:"vjs-playlist-item",addArrowMarkup:!0,waitForSelector:".vjs-playlist-item-list"}),d(".vi20 .video-player.blackrock .vjs-playlist").length&&
N())})})(window,document,jQuery);